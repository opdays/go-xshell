(function(e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("../../xterm")):"function"==typeof define?define(["../../xterm"],e):e(window.Terminal)})(function(e){"use strict";var n={},i="(https?:\\/\\/)",t="[\\da-z\\.-]+",r="[^\\da-z\\.-]+",o="("+t+")",a="([a-z\\.]{2,6})",f="((\\d{1,3}\\.){3}\\d{1,3})",l="(:\\d{1,5})",c="(("+o+"\\."+a+")|"+f+")"+l+"?",d="(\\/[\\/\\w\\.-]*)*",u="[^\\/\\w\\.-]+",p=c+d,m="(?:^|"+r+")(",h=")($|"+u+")",y=m+i+"?"+p+h,T=m+i+p+h,v=new RegExp(y),s=new RegExp(T);return n.linkifyTerminalLine=function(e,t,r,o){if("number"==typeof t)t=e.rowContainer.children[t];else if(!(t instanceof HTMLDivElement)){var a='The "line" argument should be either a number';throw a+=" or an HTMLDivElement",new TypeError(a)}o="undefined"==typeof o?"":'target="'+o+'"';for(var f=document.createElement("span"),l=t.childNodes,c=0;c<l.length;c++){var d=l[c];f.textContent=d.data;var u=f.innerHTML;if(d.nodeType==d.TEXT_NODE){var p=n.findLinkMatch(d.data,r);if(p){var m=new RegExp("^"+i),h=p.match(m),y=h?p:"http://"+p,T='<a href="'+y+'" '+o+">"+p+"</a>",v=u.replace(p,T);t.innerHTML=t.innerHTML.replace(u,v)}}}e.emit("linkify:line",t)},n.findLinkMatch=function(e,n){var i=e.match(n?v:s);return i&&0!==i.length?i[1]:null},n.linkify=function(e,i,t){var r=e.rowContainer.children;i="boolean"!=typeof i||i;for(var o=0;o<r.length;o++){var a=r[o];n.linkifyTerminalLine(e,a,i,t)}e.emit("linkify")},e.prototype.linkifyTerminalLine=function(e,i,t){return n.linkifyTerminalLine(this,e,i,t)},e.prototype.linkify=function(e,i){return n.linkify(this,e,i)},n});